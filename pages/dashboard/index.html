<!DOCTYPE html>
<html>
<head>
<title>Admin Dashboard</title>
<style>
body{font-family:sans-serif;background:#111;color:white;padding:30px;}
button{padding:5px 10px;}
</style>
</head>
<body>

<h2>Order List</h2>
<table border="1" cellpadding="10">
<thead>
<tr>
<th>ID</th>
<th>Status</th>
<th>Aksi</th>
</tr>
</thead>
<tbody id="orders"></tbody>
</table>

<script>
async function load(){
  const res = await fetch("/api/orders");
  const data = await res.json();
  const table = document.getElementById("orders");

  data.keys.forEach(order=>{
    table.innerHTML += `
      <tr>
        <td>${order.name}</td>
        <td>Check KV</td>
        <td>
          <button onclick="setPaid('${order.name}')">SET PAID</button>
        </td>
      </tr>
    `;
  });
}

async function setPaid(id){
  await fetch("/api/set-paid?id="+id);
  alert("Status jadi PAID");
  location.reload();
}

load();
</script>

</body>
</html>
